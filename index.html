<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="SPH : " />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>SPH</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/sturmE/sph">View on GitHub</a>

          <h1 id="project_title">SPH</h1>
          <h2 id="project_tagline">Particle based fluid simulation</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/sturmE/sph/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/sturmE/sph/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h3>
<a name="Reference Papers" class="anchor" href="#Reference Papers"><span class="octicon octicon-link"></span></a>Reference Papers</h3>
<ul>
  <li><a href="http://dl.acm.org/citation.cfm?id=1073400">Particle-based Viscoelastic Fluid Simulation (1)</a></li>
  <li><a href="http://dl.acm.org/citation.cfm?id=846298">Particle-Based Fluid Simulation for Interactive Applications (2)</a></li>
  <li><a href="http://image.diku.dk/projects/media/kelager.06.pdf">Lagrangian Fluid Dynamics Using Smoothed Particle Hydrodynamics (3)</a></li>
</ul>

        <h3>
<a name="Implementation" class="anchor" href="#Implementation"><span class="octicon octicon-link"></span></a>Implementation</h3>
<p>
Three papers I looked at the most. Papers (1) and (3) were the main papers I did implementation around. The main difference between paper (3) and (1) is that in paper (3) we compute everything into forces then apply those forces (F=ma) to the particles. In paper (1), we instead figure out “relaxed” position by using more computed parameters such as the near density and the near pressure. Near density is density but using a different kernel and near pressure uses the near density to apply additional pressure to the particle.</p><p>
Couple key things I learned when doing this.
<ul><li>The timestep you use can change everything. It can be the one thing killing your simulations.</li>

<li>It is important to create good spatial grids and pick neighbors smartly</li>
<li> Don’t use glm math, math library functions because they apparently are slow</li></ul>
</p>
        <h3>
<a name="Difficulties" class="anchor" href="#Difficulties"><span class="octicon octicon-link"></span></a>Difficulties</h3>
<p>
When implementing paper (3), I was quite sure that I had all of the equations working correctly but I was calculating massive forces to be applied to the particles. In retrospect this was probably because of my timestep but I hadn’t figured out how big of a deal the timestep was. Along with the timestep, my spatial grid was very slow. This was causing single digit framerates for greater than 100 particles.
After being unable to figure out the issues with paper (3), I tried implementing paper (1). After feeling like I had the maths correct and nothing was working, I found a blog post where someone detailed their efforts in implementing multiple sph algorithms. In regards to the paper I was implementing, they had had some modifications. One example was that they used a different kernel and added in surface tension calculation, which I had been lacking. Using these modifications didn’t help until I decided to start playing with the timestep. Once I found out how big of an impact the timestep can make in the simulations, I was able to get the simulation under control a make it look decent.
</p>
<p>
The last thing I did was speed up the simulation was to hijack someone else’s idea on getting particles neighbors. Originally, I was iterating over all neighboring cells for every particle and finding neighbors every single time. To speed this up, I changed it to store the neighbors used in the pressure and density calculations for later use.
</p>

       <h3>
<a name="Videos" class="anchor" href="#Videos"><span class="octicon octicon-link"></span></a>Videos</h3>
<center>
  <video width="640" controls>
  <source src="good fluid.mp4" type="video/mp4">
  
</video>
</center>

<center>
  <video width="600" controls>
  <source src="lava lamp.mp4" type="video/mp4">
</video>
</center>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">SPH maintained by <a href="https://github.com/sturmE">sturmE</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
